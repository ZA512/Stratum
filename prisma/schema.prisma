datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL") // Charge DATABASE_URL depuis .env
}

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native"]
}

model Node {
    id          String   @id @default(cuid())
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt
    title         String
    description   String?
    dueDate       DateTime?
    status        String   @default("todo")
    priority      String   @default("medium")
    effort        String?
    shortId       Int      @default(autoincrement())
    assignments   Json?    // Ajout pour g√©rer les assignations

    // Relations
    parentId      Int?
    parent        Node?    @relation("ChildNodes", fields: [parentId], references: [id])
    childNodes    Node[]   @relation("ChildNodes")
    boardId       Int
    board         Board    @relation(fields: [boardId], references: [id])
}